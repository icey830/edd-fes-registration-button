!function(e){function t(t){var i,o=t.serialize(),r=[];return e(".fes-rich-validation").each(function(t,o){i=e(o).data("id"),val=e.trim(tinyMCE.get(i).getContent()),r.push(i+"="+encodeURIComponent(val))}),o=o+"&"+r.join("&")}e(".edd-fes-registration-button-form").on("submit",function(i){i.preventDefault();var o=e(this),r=o.find("input[type=submit]"),a=t(o);console.log(),a&&(r.attr("disabled","disabled").addClass("button-primary-disabled"),e.post(registration_button.ajax.url,a,function(e){if(e.success){var t="",i="";e.title&&(t=e.title),e.message&&(i=e.message),e.skipswal?(overlay.hide(),"#"!==e.redirect_to&&(window.location=e.redirect_to)):(overlay.hide(),swal({title:t,text:i,html:!0,allowEscapeKey:!1,type:"success"},function(){"#"!==e.redirect_to?window.location.href=e.redirect_to:(r.removeClass("button-primary-disabled"),o.find("span.fes-loading").remove(),r.removeAttr("disabled"))}))}else{var t=(e.errors,""),i="";e.title&&(t=e.title),e.message&&(i=e.message),overlay.hide(),swal({title:t,text:i,html:!0,type:"error"}),r.removeAttr("disabled")}r.removeClass("button-primary-disabled"),o.find("span.fes-loading").remove()}).fail(function(t,i,a){var s="",n="";s="Could not connect",n=e(t.responseponseText).text(),console.log(n),n=n.substring(0,n.indexOf("Call Stack")),overlay.hide(),swal({title:s,text:n,html:!0,type:"error"}),r.removeAttr("disabled"),r.removeClass("button-primary-disabled"),o.find("span.fes-loading").remove()}))})}(jQuery);